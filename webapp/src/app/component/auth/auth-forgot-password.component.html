<div class="flex h-screen items-center justify-center bg-gray-100 p-4">

  <section class="flex bg-white shadow-2xl rounded-[2rem] overflow-hidden w-full max-w-5xl h-[min(650px,85vh)]">

    <form [formGroup]="form" (submit)="requestResetPassword()"
          class="flex-1 flex flex-col justify-center px-12 lg:px-20 gap-6">

      <div class="flex flex-col items-center mb-4">
        <img ngSrc="assets/logo.png" height="300" width="300" alt="Logo" class="mb-2" priority/>
        <p class="text-gray-400 text-sm">Digite seu email para continuar</p>
      </div>

      <div class="flex flex-col gap-1.5">
        <div
          class="flex items-center border border-gray-200 rounded-xl focus:outline-none focus-within:ring-4 focus-within:ring-green-50 transition-all overflow-hidden bg-gray-50">
          <span
            class="bg-gray-200 px-4 py-3 text-gray-500 text-sm font-medium border-r border-gray-300 min-w-[90px] text-center"
            translate="login.email"></span>
          <input class="w-full px-4 py-3 bg-transparent outline-none text-sm text-gray-700" type="email"
                 formControlName="email" required placeholder="exemplo@email.com"/>
        </div>
        @if (form.get('email')?.touched && form.get('email')?.invalid) {
          <span class="text-xs text-red-500 flex items-center gap-1 ml-1">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{ "global.field.required" | translate: {field: 'global.field.email' | translate} }}
          </span>
        }
      </div>

      @if (status() === 'error') {
        <div class="error-message">
          <span translate="global.field.error" class="font-bold me-1"></span>
          <span translate="login.sendMailError"></span>
        </div>
      }

      @if (status() === 'success') {
        <div class="success-message">
          <span translate="global.field.success" class="font-bold me-1"></span>
          <span translate="login.sendMailSuccess"></span>
        </div>
      }

      @if (status() === 'loading') {
        <div class="flex items-center gap-2 justify-center py-3.5">
          <i class="fa-solid fa-circle-notch animate-spin text-green-600"></i>
          <span class="text-gray-600 font-medium">Enviando...</span>
        </div>
      } @else {
        <button
          class="w-full py-3.5 bg-green-600 text-white rounded-xl font-bold text-sm shadow-lg hover:bg-green-700 active:scale-[0.98] transition-all disabled:opacity-50"
          type="submit"
          [disabled]="!canSubmit()">
          <span translate="global.field.confirm"></span>
        </button>
      }

    </form>
  </section>
</div>

